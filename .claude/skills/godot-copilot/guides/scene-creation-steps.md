# Godot场景创建详细步骤指导

## 概述

本指南提供了在Godot编辑器中创建场景的详细手把手步骤。每个步骤都包含具体的菜单操作和键盘快捷键。

## 创建新场景

### 步骤1：创建场景文件

1. **打开场景管理器**
   - 菜单：`场景` → `新建场景`
   - 或快捷键：`Ctrl + N` (Windows/Linux) 或 `Cmd + N` (Mac)
   - 或在场景树顶部点击 `+` 图标

2. **选择根节点类型**
   - 在"创建根节点"对话框中：
     - 搜索节点类型（例如输入 "CharacterBody2D"）
     - 或从分类中浏览选择
     - 常用根节点类型：
       - `Node`：基础容器节点
       - `Node2D`：2D场景容器
       - `Node3D`：3D场景容器
       - `Control`：UI场景容器

3. **保存场景**
   - 菜单：`场景` → `保存场景`
   - 或快捷键：`Ctrl + S` (Windows/Linux) 或 `Cmd + S` (Mac)
   - 或点击顶部工具栏的保存图标
   - 选择保存位置，输入文件名（例如：Player.tscn）

### 场景文件命名规范

- 使用帕斯卡命名法（首字母大写）
- 根据功能命名，不要使用"Scene1"等无意义名称
- 示例：
  - `Player.tscn` - 玩家角色
  - `Enemy.tscn` - 敌人
  - `MainMenu.tscn` - 主菜单
  - `GameWorld.tscn` - 游戏世界

## 添加和配置节点

### 添加子节点

#### 方法1：通过菜单
1. 在场景树中选择父节点
2. 右键点击 → `添加子节点`
3. 在搜索框中输入节点类型或从列表选择
4. 点击"创建"或按`Enter`

#### 方法2：通过快捷键
1. 在场景树中选择父节点
2. 按`Ctrl + A` (Windows/Linux) 或 `Cmd + A` (Mac)
3. 搜索并选择节点类型

#### 方法3：通过工具栏
1. 在场景树工具栏点击"添加子节点"图标（+号）
2. 搜索并选择节点类型

### 重命名节点

1. **选择节点**
   - 在场景树中点击要重命名的节点

2. **重命名**
   - 按`F2`键
   - 或右键 → `重命名`
   - 或双击节点名称

3. **输入新名称**
   - 使用有意义的名称
   - 使用驼峰命名法（例如：collisionShape, animationPlayer）

### 调整节点顺序

1. **拖拽节点**
   - 在场景树中拖拽节点到新位置
   - 橙色线表示插入位置

2. **使用菜单**
   - 右键节点 → `上移`/`下移`
   - 快捷键：`Ctrl + ↑`/`Ctrl + ↓`

## 配置节点属性

### 使用检查器面板

检查器面板在场景树右侧，包含节点的所有属性。

#### 修改基本属性

1. **选择节点**
   - 在场景树中点击节点
   - 检查器会显示该节点的属性

2. **展开属性类别**
   - 点击类别名称左侧的三角形
   - 常见类别：
     - `Node` - 基本属性（名称、可见性等）
     - `Transform` - 变换属性（位置、旋转、缩放）
     - `Groups` - 节点组
     - `Signals` - 信号

3. **修改属性值**
   - 点击属性值进行编辑
   - 不同类型的属性编辑方式：
     - **文本输入**：直接输入
     - **数值**：拖动滑块或输入数字
     - **布尔值**：点击复选框
     - **下拉菜单**：点击展开选择
     - **颜色**：点击颜色选择器
     - **资源引用**：点击`<empty>`或拖拽资源文件

#### 属性具体配置示例

##### Sprite2D配置
```
检查器 → Node
├── Name: Sprite2D  # 节点名称
├── Visible: ✓      # 是否可见
├── Modulate: white # 颜色调制
└── Self Modulate: white

检查器 → CanvasItem
├── Material: <empty>
├── Light Mask: 1
└── Z Index: 0

检查器 → Node2D
├── Position: (0, 0)     # 位置
├── Rotation: 0°         # 旋转
├── Scale: (1, 1)        # 缩放
└── Skew: 0°

检查器 → Sprite2D
├── Texture: <empty>     # 纹理图片
├── Centered: ✓          # 是否居中
├── Offset: (0, 0)       # 偏移
├── Flip H: ✗           # 水平翻转
├── Flip V: ✗           # 垂直翻转
└── Region: <rect2>      # 纹理区域
```

##### CharacterBody2D配置
```
检查器 → CharacterBody2D
├── Collision Layer: 1   # 碰撞层
├── Collision Mask: 1    # 碰撞掩码
├── Motion Mode: Grounded
├── Up Direction: (0, -1)
├── Wall Min Slide Angle: 15°
├── Floor Max Angle: 45°
├── Floor Stop On Slope: ✓
├── Constant Linear Velocity: (0, 0)
├── Constant Angular Velocity: 0°
└── Sync To Physics: ✗
```

### 快速属性访问技巧

1. **搜索属性**
   - 在检查器顶部搜索框输入属性名
   - 快速定位需要修改的属性

2. **重置属性**
   - 右键属性 → `重置为默认值`

3. **复制粘贴属性**
   - 右键属性 → `复制属性`
   - 在其他节点上右键 → `粘贴属性`

## 添加组件和资源

### 添加碰撞形状

1. **添加CollisionShape2D节点**
   - 选择物理节点（如CharacterBody2D）
   - 添加子节点 → 搜索"CollisionShape2D"

2. **设置形状**
   - 选择CollisionShape2D节点
   - 在检查器中找到"Shape"属性
   - 点击`<null>` → 选择形状类型：
     - `CapsuleShape2D` - 胶囊形（适合角色）
     - `RectangleShape2D` - 矩形（适合方块）
     - `CircleShape2D` - 圆形（适合球体）
     - `ConvexPolygonShape2D` - 凸多边形（自定义形状）

3. **调整形状大小**
   - 选择形状节点
   - 在2D视图中拖拽控制点
   - 或在检查器中输入具体数值

### 添加动画

1. **添加AnimationPlayer节点**
   - 选择根节点或需要动画的节点
   - 添加子节点 → "AnimationPlayer"

2. **打开动画面板**
   - 菜单：`视图` → `底部面板` → `动画`
   - 或按快捷键`Ctrl + 6`

3. **创建动画轨道**
   - 点击"新建动画"
   - 输入动画名称（例如：idle, run, jump）
   - 在时间轴上选择时间点
   - 在场景中选择需要动画的属性
   - 点击钥匙图标添加关键帧

### 添加脚本

1. **创建新脚本**
   - 选择节点
   - 在检查器中点击"脚本"属性旁的`<empty>`
   - 选择"新建脚本"

2. **配置脚本**
   - **路径**：默认保存在脚本文件夹
   - **模板**：选择"Default"或"Empty"
   - **继承**：自动继承节点类型
   - **语言**：选择GDScript

3. **附加脚本**
   - 创建后自动附加到节点
   - 或拖拽现有脚本到节点的"脚本"属性

## 场景实例化

### 在其他场景中使用场景

1. **打开目标场景**
   - 在场景树中右键
   - 选择"实例化场景"
   - 或点击场景树顶部"+" → "实例化场景"

2. **选择场景文件**
   - 浏览到场景文件位置
   - 选择.tscn文件
   - 点击"打开"

3. **编辑实例**
   - 实例节点显示为蓝色图标
   - 可以修改位置、旋转、缩放
   - 不能修改内部结构（需要打开原场景）

### 编辑原场景

1. **快速打开**
   - 右键实例节点
   - 选择"打开场景"

2. **保存更改**
   - 修改后保存原场景
   - 实例会自动更新

## 保存和导出

### 保存场景

1. **保存当前场景**
   - 菜单：`场景` → `保存场景`
   - 快捷键：`Ctrl + S`

2. **另存为**
   - 菜单：`场景` → `场景另存为`
   - 快捷键：`Ctrl + Shift + S`

3. **保存所有场景**
   - 菜单：`场景` → `保存所有场景`
   - 快捷键：`Ctrl + Alt + S`

### 导出场景

1. **导出为资源**
   - 菜单：`项目` → `导出`
   - 配置导出预设

## 常用快捷键

### 场景操作
- `Ctrl + N` - 新建场景
- `Ctrl + S` - 保存场景
- `Ctrl + O` - 打开场景
- `Ctrl + Shift + S` - 场景另存为

### 节点操作
- `Ctrl + A` - 添加子节点
- `Ctrl + D` - 复制节点
- `Ctrl + X` - 剪切节点
- `Ctrl + V` - 粘贴节点
- `Delete` - 删除节点
- `F2` - 重命名节点

### 视图操作
- `Ctrl + 1` - 2D视图
- `Ctrl + 2` - 3D视图
- `Ctrl + 3` - 脚本编辑器
- `Ctrl + 4` - 资源管理器
- `Ctrl + 5` - 场景树
- `Ctrl + 6` - 动画面板
- `Ctrl + 7` - 检查器

## 常见问题解决

### 问题1：节点显示为红色
**原因**：缺少必需的属性或资源
**解决**：
1. 选择节点
2. 查看检查器中的错误提示
3. 通常是缺少纹理、碰撞形状等

### 问题2：场景保存失败
**原因**：文件路径错误或权限问题
**解决**：
1. 检查文件路径是否正确
2. 确保有写入权限
3. 文件名不要包含特殊字符

### 问题3：实例不显示
**原因**：可能是位置或缩放问题
**解决**：
1. 检查实例的变换属性
2. 重置为默认值
3. 确保在视野范围内

### 问题4：场景运行报错
**原因**：脚本错误或资源缺失
**解决**：
1. 查看输出面板的错误信息
2. 检查脚本语法
3. 确保所有资源路径正确

## 最佳实践

### 场景设计
1. **单一职责**：每个场景只负责一个功能
2. **合理嵌套**：避免过深的节点层级
3. **命名规范**：使用有意义的节点名称

### 性能优化
1. **减少节点数量**：合并不需要的节点
2. **使用合适的最小节点**：不要使用过度复杂的节点
3. **批量操作**：使用场景实例化

### 维护性
1. **模块化设计**：将功能拆分到不同场景
2. **清晰的结构**：保持节点层级清晰
3. **添加注释**：在关键节点添加说明

## 完整示例：创建玩家角色场景

### 步骤清单

1. **创建新场景**
   - Ctrl + N
   - 选择 CharacterBody2D
   - 保存为 scenes/player/Player.tscn

2. **添加精灵**
   - 选择根节点
   - Ctrl + A → 搜索 Sprite2D
   - 重命名为 "sprite"
   - 在检查器中设置 Texture 属性

3. **添加碰撞体**
   - 选择根节点
   - Ctrl + A → 搜索 CollisionShape2D
   - 重命名为 "collisionShape"
   - 设置 Shape 为 CapsuleShape2D
   - 调整大小匹配精灵

4. **添加动画系统**
   - 选择根节点
   - Ctrl + A → 搜索 AnimationPlayer
   - 重命名为 "animationPlayer"
   - 创建 idle, run, jump 动画

5. **添加摄像机**
   - 选择根节点
   - Ctrl + A → 搜索 Camera2D
   - 重命名为 "camera"
   - 设置 Enabled 为当前

6. **创建并附加脚本**
   - 选择根节点
   - 在检查器中点击脚本属性的 `<empty>`
   - 选择"新建脚本"
   - 保存为 scripts/player/PlayerController.gd

7. **最终检查**
   - 按F5运行测试
   - 确保没有错误
   - Ctrl + S 保存场景

通过遵循这些详细步骤，你可以在Godot中创建结构良好的游戏场景。记住，实践是最好的学习方式！